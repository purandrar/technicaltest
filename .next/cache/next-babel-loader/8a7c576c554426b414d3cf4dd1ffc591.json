{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/purandrar/Documents/excercise/technicaltest/pages/index.js\";\n\nvar __jsx = React.createElement;\nimport React from 'react';\nimport fetch from 'isomorphic-unfetch';\nimport Layout from '../components/layout';\nimport NewsSection from '../components/NewsSection';\nimport Headline from '../components/Headline';\nimport { Container, Row } from 'react-bootstrap';\n\nvar Index = function Index(props) {\n  return __jsx(Layout, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 8,\n      columnNumber: 5\n    }\n  }, __jsx(Headline, {\n    article: props.headlineUs,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 9\n    }\n  }), __jsx(NewsSection, {\n    articles: props.newsUs,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 9\n    }\n  }));\n};\n\nIndex.getInitialProps = function _callee() {\n  var res, data, newsUs;\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _regeneratorRuntime.awrap(fetch('http://newsapi.org/v2/top-headlines?country=id&category=business&apiKey=72aa24ac8bbf4a1aa302891fbde1d0ac'));\n\n        case 2:\n          res = _context.sent;\n          _context.next = 5;\n          return _regeneratorRuntime.awrap(res.json());\n\n        case 5:\n          data = _context.sent;\n          newsUs = data.articles.slice(1, 8);\n          console.log(\"Show data fetched. Count: \".concat(newsUs.length));\n          return _context.abrupt(\"return\", {\n            headlineUs: data.articles[0],\n            newsUs: newsUs\n          });\n\n        case 9:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\n\nexport default Index; // export default function Index(props) {\n//     return (\n//         <Layout>\n//             <h1>Batman TV Shows</h1>\n//             <ul>\n//                 {props.shows.map(show => (\n//                     <li key={show.id}>\n//                         <Link href=\"/p/[id]\" as={`/p/${show.id}`}>\n//                             <a>{show.name}</a>\n//                         </Link>\n//                     </li>\n//                 ))}\n//             </ul>\n//             {/* <p>Hello Next.js</p> */}\n//         </Layout>\n//     )\n// }","map":{"version":3,"sources":["/Users/purandrar/Documents/excercise/technicaltest/pages/index.js"],"names":["React","fetch","Layout","NewsSection","Headline","Container","Row","Index","props","headlineUs","newsUs","getInitialProps","res","json","data","articles","slice","console","log","length"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,WAAP,MAAwB,2BAAxB;AACA,OAAOC,QAAP,MAAqB,wBAArB;AACA,SAASC,SAAT,EAAoBC,GAApB,QAA+B,iBAA/B;;AACA,IAAMC,KAAK,GAAG,SAARA,KAAQ,CAAAC,KAAK;AAAA,SACf,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEI,MAAC,QAAD;AAAU,IAAA,OAAO,EAAEA,KAAK,CAACC,UAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,EAGI,MAAC,WAAD;AAAa,IAAA,QAAQ,EAAED,KAAK,CAACE,MAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHJ,CADe;AAAA,CAAnB;;AAQAH,KAAK,CAACI,eAAN,GAAwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CACFV,KAAK,CAAC,0GAAD,CADH;;AAAA;AACdW,UAAAA,GADc;AAAA;AAAA,2CAEDA,GAAG,CAACC,IAAJ,EAFC;;AAAA;AAEdC,UAAAA,IAFc;AAGdJ,UAAAA,MAHc,GAGLI,IAAI,CAACC,QAAL,CAAcC,KAAd,CAAoB,CAApB,EAAuB,CAAvB,CAHK;AAIpBC,UAAAA,OAAO,CAACC,GAAR,qCAAyCR,MAAM,CAACS,MAAhD;AAJoB,2CAMb;AACHV,YAAAA,UAAU,EAAEK,IAAI,CAACC,QAAL,CAAc,CAAd,CADT;AAEHL,YAAAA,MAAM,EAANA;AAFG,WANa;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAxB;;AAYA,eAAeH,KAAf,C,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import React from 'react'\nimport fetch from 'isomorphic-unfetch'\nimport Layout from '../components/layout'\nimport NewsSection from '../components/NewsSection'\nimport Headline from '../components/Headline'\nimport { Container, Row } from 'react-bootstrap'\nconst Index = props => (\n    <Layout>\n\n        <Headline article={props.headlineUs} />\n        <NewsSection articles={props.newsUs} />\n    </Layout>\n);\n\nIndex.getInitialProps = async function () {\n    const res = await fetch('http://newsapi.org/v2/top-headlines?country=id&category=business&apiKey=72aa24ac8bbf4a1aa302891fbde1d0ac');\n    const data = await res.json();\n    const newsUs = data.articles.slice(1, 8)\n    console.log(`Show data fetched. Count: ${newsUs.length}`);\n\n    return {\n        headlineUs: data.articles[0],\n        newsUs\n    };\n};\n\nexport default Index;\n// export default function Index(props) {\n//     return (\n//         <Layout>\n//             <h1>Batman TV Shows</h1>\n//             <ul>\n//                 {props.shows.map(show => (\n//                     <li key={show.id}>\n//                         <Link href=\"/p/[id]\" as={`/p/${show.id}`}>\n//                             <a>{show.name}</a>\n//                         </Link>\n//                     </li>\n//                 ))}\n//             </ul>\n//             {/* <p>Hello Next.js</p> */}\n//         </Layout>\n//     )\n// }\n"]},"metadata":{},"sourceType":"module"}