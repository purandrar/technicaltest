{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/purandrar/Documents/excercise/technicaltest/pages/index.js\";\n\nvar __jsx = React.createElement;\nimport React from 'react';\nimport fetch from 'isomorphic-unfetch';\nimport Layout from '../components/layout';\nimport NewsSection from '../components/NewsSection';\n\nvar Index = function Index(props) {\n  return __jsx(Layout, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 7,\n      columnNumber: 5\n    }\n  }, __jsx(NewsSection, {\n    headline: props.headlineUs,\n    articles: props.newsUs,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 8,\n      columnNumber: 9\n    }\n  }));\n};\n\nIndex.getInitialProps = function _callee() {\n  var resId, resUs, resSg, dataId, dataUs, dataSg, newsId, newsUs, newsSg;\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _regeneratorRuntime.awrap(fetch('http://newsapi.org/v2/top-headlines?country=id&category=business&apiKey=72aa24ac8bbf4a1aa302891fbde1d0ac'));\n\n        case 2:\n          resId = _context.sent;\n          _context.next = 5;\n          return _regeneratorRuntime.awrap(fetch('http://newsapi.org/v2/top-headlines?country=us&category=business&apiKey=72aa24ac8bbf4a1aa302891fbde1d0ac'));\n\n        case 5:\n          resUs = _context.sent;\n          _context.next = 8;\n          return _regeneratorRuntime.awrap(fetch('http://newsapi.org/v2/top-headlines?country=sg&category=business&apiKey=72aa24ac8bbf4a1aa302891fbde1d0ac'));\n\n        case 8:\n          resSg = _context.sent;\n          _context.next = 11;\n          return _regeneratorRuntime.awrap(resId.json());\n\n        case 11:\n          dataId = _context.sent;\n          _context.next = 14;\n          return _regeneratorRuntime.awrap(resUs.json());\n\n        case 14:\n          dataUs = _context.sent;\n          _context.next = 17;\n          return _regeneratorRuntime.awrap(resSg.json());\n\n        case 17:\n          dataSg = _context.sent;\n          newsId = dataId.articles.slice(1, 8);\n          newsUs = dataUs.articles.slice(1, 8);\n          newsSg = dataSg.articles.slice(1, 8);\n          return _context.abrupt(\"return\", {\n            headlineUs: dataUs.articles[0],\n            headlineId: dataId.articles[0],\n            headlineSg: dataSg.articles[0],\n            newsUs: newsUs,\n            newsId: newsId,\n            newsSg: newsSg\n          });\n\n        case 22:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\n\nexport default Index; // export default function Index(props) {\n//     return (\n//         <Layout>\n//             <h1>Batman TV Shows</h1>\n//             <ul>\n//                 {props.shows.map(show => (\n//                     <li key={show.id}>\n//                         <Link href=\"/p/[id]\" as={`/p/${show.id}`}>\n//                             <a>{show.name}</a>\n//                         </Link>\n//                     </li>\n//                 ))}\n//             </ul>\n//             {/* <p>Hello Next.js</p> */}\n//         </Layout>\n//     )\n// }","map":{"version":3,"sources":["/Users/purandrar/Documents/excercise/technicaltest/pages/index.js"],"names":["React","fetch","Layout","NewsSection","Index","props","headlineUs","newsUs","getInitialProps","resId","resUs","resSg","json","dataId","dataUs","dataSg","newsId","articles","slice","newsSg","headlineId","headlineSg"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,WAAP,MAAwB,2BAAxB;;AAEA,IAAMC,KAAK,GAAG,SAARA,KAAQ,CAAAC,KAAK;AAAA,SACf,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,WAAD;AAAa,IAAA,QAAQ,EAAEA,KAAK,CAACC,UAA7B;AAAyC,IAAA,QAAQ,EAAED,KAAK,CAACE,MAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADe;AAAA,CAAnB;;AAMAH,KAAK,CAACI,eAAN,GAAwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CACAP,KAAK,CAAC,0GAAD,CADL;;AAAA;AACdQ,UAAAA,KADc;AAAA;AAAA,2CAEAR,KAAK,CAAC,0GAAD,CAFL;;AAAA;AAEdS,UAAAA,KAFc;AAAA;AAAA,2CAGAT,KAAK,CAAC,0GAAD,CAHL;;AAAA;AAGdU,UAAAA,KAHc;AAAA;AAAA,2CAICF,KAAK,CAACG,IAAN,EAJD;;AAAA;AAIdC,UAAAA,MAJc;AAAA;AAAA,2CAKCH,KAAK,CAACE,IAAN,EALD;;AAAA;AAKdE,UAAAA,MALc;AAAA;AAAA,2CAMCH,KAAK,CAACC,IAAN,EAND;;AAAA;AAMdG,UAAAA,MANc;AAOdC,UAAAA,MAPc,GAOLH,MAAM,CAACI,QAAP,CAAgBC,KAAhB,CAAsB,CAAtB,EAAyB,CAAzB,CAPK;AAQdX,UAAAA,MARc,GAQLO,MAAM,CAACG,QAAP,CAAgBC,KAAhB,CAAsB,CAAtB,EAAyB,CAAzB,CARK;AASdC,UAAAA,MATc,GASLJ,MAAM,CAACE,QAAP,CAAgBC,KAAhB,CAAsB,CAAtB,EAAyB,CAAzB,CATK;AAAA,2CAUb;AACHZ,YAAAA,UAAU,EAAEQ,MAAM,CAACG,QAAP,CAAgB,CAAhB,CADT;AAEHG,YAAAA,UAAU,EAAEP,MAAM,CAACI,QAAP,CAAgB,CAAhB,CAFT;AAGHI,YAAAA,UAAU,EAAEN,MAAM,CAACE,QAAP,CAAgB,CAAhB,CAHT;AAIHV,YAAAA,MAAM,EAANA,MAJG;AAKHS,YAAAA,MAAM,EAANA,MALG;AAMHG,YAAAA,MAAM,EAANA;AANG,WAVa;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAxB;;AAoBA,eAAef,KAAf,C,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import React from 'react'\nimport fetch from 'isomorphic-unfetch'\nimport Layout from '../components/layout'\nimport NewsSection from '../components/NewsSection'\n\nconst Index = props => (\n    <Layout>\n        <NewsSection headline={props.headlineUs} articles={props.newsUs} />\n    </Layout>\n);\n\nIndex.getInitialProps = async function () {\n    const resId = await fetch('http://newsapi.org/v2/top-headlines?country=id&category=business&apiKey=72aa24ac8bbf4a1aa302891fbde1d0ac');\n    const resUs = await fetch('http://newsapi.org/v2/top-headlines?country=us&category=business&apiKey=72aa24ac8bbf4a1aa302891fbde1d0ac');\n    const resSg = await fetch('http://newsapi.org/v2/top-headlines?country=sg&category=business&apiKey=72aa24ac8bbf4a1aa302891fbde1d0ac');\n    const dataId = await resId.json();\n    const dataUs = await resUs.json();\n    const dataSg = await resSg.json();\n    const newsId = dataId.articles.slice(1, 8)\n    const newsUs = dataUs.articles.slice(1, 8)\n    const newsSg = dataSg.articles.slice(1, 8)\n    return {\n        headlineUs: dataUs.articles[0],\n        headlineId: dataId.articles[0],\n        headlineSg: dataSg.articles[0],\n        newsUs,\n        newsId,\n        newsSg,\n    };\n};\n\nexport default Index;\n// export default function Index(props) {\n//     return (\n//         <Layout>\n//             <h1>Batman TV Shows</h1>\n//             <ul>\n//                 {props.shows.map(show => (\n//                     <li key={show.id}>\n//                         <Link href=\"/p/[id]\" as={`/p/${show.id}`}>\n//                             <a>{show.name}</a>\n//                         </Link>\n//                     </li>\n//                 ))}\n//             </ul>\n//             {/* <p>Hello Next.js</p> */}\n//         </Layout>\n//     )\n// }\n"]},"metadata":{},"sourceType":"module"}