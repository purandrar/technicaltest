{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/purandrar/Documents/excercise/technicaltest/pages/index.js\";\n\nvar __jsx = React.createElement;\nimport React from 'react';\nimport fetch from 'isomorphic-unfetch';\nimport Layout from '../components/layout';\nimport NewsSection from '../components/NewsSection';\nimport NewsDeck from '../components/NewsDeck';\nimport NewsCarousel from '../components/NewsCarousel';\n\nvar Index = function Index(props) {\n  return __jsx(Layout, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 8,\n      columnNumber: 5\n    }\n  }, __jsx(NewsCarousel, {\n    style: {\n      margin: \"30px\"\n    },\n    articles: props.newsUs,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 9\n    }\n  }), __jsx(NewsDeck, {\n    style: {\n      margin: \"30px\"\n    },\n    articles: props.newsId,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 9\n    }\n  }), __jsx(NewsSection, {\n    style: {\n      margin: \"30px\"\n    },\n    headline: props.headlineSg,\n    articles: props.newsSg,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 9\n    }\n  }));\n};\n\nIndex.getInitialProps = function _callee() {\n  var resId, resUs, resSg, dataId, dataUs, dataSg, newsId, newsUs, newsSg;\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _regeneratorRuntime.awrap(fetch('http://newsapi.org/v2/top-headlines?country=id&category=business&apiKey=72aa24ac8bbf4a1aa302891fbde1d0ac'));\n\n        case 2:\n          resId = _context.sent;\n          _context.next = 5;\n          return _regeneratorRuntime.awrap(fetch('http://newsapi.org/v2/top-headlines?country=us&category=business&apiKey=72aa24ac8bbf4a1aa302891fbde1d0ac'));\n\n        case 5:\n          resUs = _context.sent;\n          _context.next = 8;\n          return _regeneratorRuntime.awrap(fetch('http://newsapi.org/v2/top-headlines?country=sg&category=business&apiKey=72aa24ac8bbf4a1aa302891fbde1d0ac'));\n\n        case 8:\n          resSg = _context.sent;\n          _context.next = 11;\n          return _regeneratorRuntime.awrap(resId.json());\n\n        case 11:\n          dataId = _context.sent;\n          _context.next = 14;\n          return _regeneratorRuntime.awrap(resUs.json());\n\n        case 14:\n          dataUs = _context.sent;\n          _context.next = 17;\n          return _regeneratorRuntime.awrap(resSg.json());\n\n        case 17:\n          dataSg = _context.sent;\n          newsId = dataId.articles.slice(0, 8);\n          newsUs = dataUs.articles.slice(0, 8);\n          newsSg = dataSg.articles.slice(1, 8);\n          return _context.abrupt(\"return\", {\n            headlineUs: dataUs.articles[0],\n            headlineSg: dataSg.articles[0],\n            newsUs: newsUs,\n            newsId: newsId,\n            newsSg: newsSg\n          });\n\n        case 22:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\n\nexport default Index;","map":{"version":3,"sources":["/Users/purandrar/Documents/excercise/technicaltest/pages/index.js"],"names":["React","fetch","Layout","NewsSection","NewsDeck","NewsCarousel","Index","props","margin","newsUs","newsId","headlineSg","newsSg","getInitialProps","resId","resUs","resSg","json","dataId","dataUs","dataSg","articles","slice","headlineUs"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,WAAP,MAAwB,2BAAxB;AACA,OAAOC,QAAP,MAAqB,wBAArB;AACA,OAAOC,YAAP,MAAyB,4BAAzB;;AACA,IAAMC,KAAK,GAAG,SAARA,KAAQ,CAAAC,KAAK;AAAA,SACf,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,YAAD;AAAc,IAAA,KAAK,EAAE;AAAEC,MAAAA,MAAM,EAAE;AAAV,KAArB;AAAyC,IAAA,QAAQ,EAAED,KAAK,CAACE,MAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI,MAAC,QAAD;AAAU,IAAA,KAAK,EAAE;AAAED,MAAAA,MAAM,EAAE;AAAV,KAAjB;AAAqC,IAAA,QAAQ,EAAED,KAAK,CAACG,MAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,EAGI,MAAC,WAAD;AAAa,IAAA,KAAK,EAAE;AAAEF,MAAAA,MAAM,EAAE;AAAV,KAApB;AAAwC,IAAA,QAAQ,EAAED,KAAK,CAACI,UAAxD;AAAoE,IAAA,QAAQ,EAAEJ,KAAK,CAACK,MAApF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHJ,CADe;AAAA,CAAnB;;AAQAN,KAAK,CAACO,eAAN,GAAwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CACAZ,KAAK,CAAC,0GAAD,CADL;;AAAA;AACda,UAAAA,KADc;AAAA;AAAA,2CAEAb,KAAK,CAAC,0GAAD,CAFL;;AAAA;AAEdc,UAAAA,KAFc;AAAA;AAAA,2CAGAd,KAAK,CAAC,0GAAD,CAHL;;AAAA;AAGde,UAAAA,KAHc;AAAA;AAAA,2CAICF,KAAK,CAACG,IAAN,EAJD;;AAAA;AAIdC,UAAAA,MAJc;AAAA;AAAA,2CAKCH,KAAK,CAACE,IAAN,EALD;;AAAA;AAKdE,UAAAA,MALc;AAAA;AAAA,2CAMCH,KAAK,CAACC,IAAN,EAND;;AAAA;AAMdG,UAAAA,MANc;AAOdV,UAAAA,MAPc,GAOLQ,MAAM,CAACG,QAAP,CAAgBC,KAAhB,CAAsB,CAAtB,EAAyB,CAAzB,CAPK;AAQdb,UAAAA,MARc,GAQLU,MAAM,CAACE,QAAP,CAAgBC,KAAhB,CAAsB,CAAtB,EAAyB,CAAzB,CARK;AASdV,UAAAA,MATc,GASLQ,MAAM,CAACC,QAAP,CAAgBC,KAAhB,CAAsB,CAAtB,EAAyB,CAAzB,CATK;AAAA,2CAUb;AACHC,YAAAA,UAAU,EAAEJ,MAAM,CAACE,QAAP,CAAgB,CAAhB,CADT;AAEHV,YAAAA,UAAU,EAAES,MAAM,CAACC,QAAP,CAAgB,CAAhB,CAFT;AAGHZ,YAAAA,MAAM,EAANA,MAHG;AAIHC,YAAAA,MAAM,EAANA,MAJG;AAKHE,YAAAA,MAAM,EAANA;AALG,WAVa;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAxB;;AAkBA,eAAeN,KAAf","sourcesContent":["import React from 'react'\nimport fetch from 'isomorphic-unfetch'\nimport Layout from '../components/layout'\nimport NewsSection from '../components/NewsSection'\nimport NewsDeck from '../components/NewsDeck'\nimport NewsCarousel from '../components/NewsCarousel'\nconst Index = props => (\n    <Layout>\n        <NewsCarousel style={{ margin: \"30px\" }} articles={props.newsUs} />\n        <NewsDeck style={{ margin: \"30px\" }} articles={props.newsId} />\n        <NewsSection style={{ margin: \"30px\" }} headline={props.headlineSg} articles={props.newsSg} />\n    </Layout>\n);\n\nIndex.getInitialProps = async function () {\n    const resId = await fetch('http://newsapi.org/v2/top-headlines?country=id&category=business&apiKey=72aa24ac8bbf4a1aa302891fbde1d0ac');\n    const resUs = await fetch('http://newsapi.org/v2/top-headlines?country=us&category=business&apiKey=72aa24ac8bbf4a1aa302891fbde1d0ac');\n    const resSg = await fetch('http://newsapi.org/v2/top-headlines?country=sg&category=business&apiKey=72aa24ac8bbf4a1aa302891fbde1d0ac');\n    const dataId = await resId.json();\n    const dataUs = await resUs.json();\n    const dataSg = await resSg.json();\n    const newsId = dataId.articles.slice(0, 8)\n    const newsUs = dataUs.articles.slice(0, 8)\n    const newsSg = dataSg.articles.slice(1, 8)\n    return {\n        headlineUs: dataUs.articles[0],\n        headlineSg: dataSg.articles[0],\n        newsUs,\n        newsId,\n        newsSg,\n    };\n};\nexport default Index"]},"metadata":{},"sourceType":"module"}